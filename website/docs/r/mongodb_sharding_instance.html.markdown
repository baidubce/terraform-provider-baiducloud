---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "baiducloud_mongodb_sharding_instance Resource - terraform-provider-baiducloud"
subcategory: "DocDB for MongoDB"
description: |-
  Use this resource to manage MongoDB Sharding Instance.
  More information can be found in the Developer Guide https://cloud.baidu.com/doc/MONGODB/s/ikdgsphbp.
---

# baiducloud_mongodb_sharding_instance (Resource)

Use this resource to manage MongoDB Sharding Instance. 

More information can be found in the [Developer Guide](https://cloud.baidu.com/doc/MONGODB/s/ikdgsphbp).

## Example Usage

```terraform
resource "baiducloud_mongodb_sharding_instance" "example" {

  engine_version = "3.6"
  mongos_count = 2
  mongos_cpu_count = 2
  mongos_memory_capacity = 4

  shard_count = 2
  shard_cpu_count = 2
  shard_memory_capacity = 4
  shard_storage = 20
  shard_storage_type = "CDS_ENHANCED_SSD"

  name = "mongo_example"
  vpc_id = "vpc-abc123"
  subnets {
    subnet_id = "sbn-abc123"
    zone_name = "cn-bj-a"
  }
  tags = {
    TagA = "valueA"
    TagB = "valueB"
  }

}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `mongos_count` (Number) Mongos nodes count of the instance. Valid values: `2`~`32`.
- `mongos_cpu_count` (Number) CPU core count. At least 1 core.
- `mongos_memory_capacity` (Number) Memory size (GB). At least 2 GB.
- `shard_count` (Number) Shard nodes count of the instance. Valid values: `2`~`500`.
- `shard_cpu_count` (Number) CPU core count. At least 1 core.
- `shard_memory_capacity` (Number) Memory size (GB). At least 2 GB.
- `shard_storage` (Number) Storage size (GB). At least 5 GB.

### Optional

- `account_password` (String, Sensitive) Password for root account. If not specified, it will be randomly generated. Must be 8-32 characters, including letters, numbers, and symbols(`!#$%^*()`only).
- `engine_version` (String) Database version of the instance. Valid values: `3.4`, `3.6`.
- `name` (String) Name of the instance. If not specified, it will be randomly generated.
- `payment_timing` (String) Payment timing of billing. Valid values: `Prepaid`, `Postpaid`. Defaults to `Postpaid`.
- `reservation_length` (Number) The reservation length (month) will pay. Effective when `payment_timing` is `Prepaid`. Valid values: `1`~`9`, `12`, `24`, `36`. Defaults to `1`.
- `auto_renew_length` - (Optional, ForceNew) The automatic renewal time (month). Effective when `payment_timing` is `Prepaid`. Valid values: `1`~`9`, `12`, `24`, `36`.
- `security_ip` - (Optional) Security ip list for instance.
- `resource_group_id` (String) Resource group id of the resource. Effective upon creation, modifications are not supported currently.
- `shard_storage_type` (String) Storage type of the instance. Valid values: `CDS_PREMIUM_SSD`, `CDS_ENHANCED_SSD`, `LOCAL_DISK`. Defaults to `CDS_PREMIUM_SSD`.
- `storage_engine` (String) Storage engine of the instance. Valid values: `WiredTiger`.
- `subnets` (Block List) Subnets of the resource. (see [below for nested schema](#nestedblock--subnets))
- `tags` (Map of String) Tags of the resource. Effective upon creation, modifications are not supported currently.
- `vpc_id` (String) VPC ID of the resource.

### Read-Only

- `connection_string` (String) Connection address of the instance.
- `create_time` (String) Creation time of the instance.
- `expire_time` (String) Expiration time of the prepaid instance.
- `id` (String) The ID of this resource.
- `mongos_list` (List of Object) Mongos node list of the instance. (see [below for nested schema](#nestedatt--mongos_list))
- `shard_list` (List of Object) Shard node list of the instance. (see [below for nested schema](#nestedatt--shard_list))
- `status` (String) Status of the instance. Possible values: `CREATING`, `RUNNING`, `STOPPING`, `EXPIRED`, `RESTARTING`, `STARTING`, `CLASS_CHANGING`, `NODE_RESTARTING`, `NODE_CREATING`, `NODE_CLASS_CHANGING`.

<a id="nestedblock--subnets"></a>
### Nested Schema for `subnets`

Optional:

- `subnet_id` (String) ID of the subnet.
- `zone_name` (String) Zone name of the subnet.


<a id="nestedatt--mongos_list"></a>
### Nested Schema for `mongos_list`

Read-Only:

- `connection_string` (String) Connection address of the node.
- `cpu_count` (Number) CPU core count of the node.
- `memory_capacity` (Number) Memory size (GB) of the node.
- `name` (String) Name of the node.
- `node_id` (String) ID of the node.
- `status` (String) Status of the node. Possible values: `CREATING`, `RUNNING`, `RESTARTING`, `CLASS_CHANGING`.
- `storage` (Number) Storage size (GB) of the node.
- `storage_type` (String) Storage type of the node. Possible values: `CDS_PREMIUM_SSD`, `CDS_ENHANCED_SSD`, `LOCAL_DISK`.


<a id="nestedatt--shard_list"></a>
### Nested Schema for `shard_list`

Read-Only:

- `connection_string` (String) Connection address of the node.
- `cpu_count` (Number) CPU core count of the node.
- `memory_capacity` (Number) Memory size (GB) of the node.
- `name` (String) Name of the node.
- `node_id` (String) ID of the node.
- `status` (String) Status of the node. Possible values: `CREATING`, `RUNNING`, `RESTARTING`, `CLASS_CHANGING`.
- `storage` (Number) Storage size (GB) of the node.
- `storage_type` (String) Storage type of the node. Possible values: `CDS_PREMIUM_SSD`, `CDS_ENHANCED_SSD`, `LOCAL_DISK`.

## Import

Import is supported using the following syntax:

```shell
terraform import baiducloud_mongodb_sharding_instance.example m-abc123
```
